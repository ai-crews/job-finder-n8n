{
  "name": "ì „ì²´ ë¡œì§ (ì°¸ê³ ìš©)",
  "nodes": [
    {
      "parameters": {
        "content": "## ë§¤ì¹­í•„í„°ë§ (ì¶”ì²œì—”ì§„)\n\n",
        "height": 432,
        "width": 660
      },
      "id": "6ea92c13-926b-44bf-b711-972394ed20ec",
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        704,
        448
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "sendTo": "={{ $json.to }}",
        "subject": "=[ê³µê³ ì¶”ì²œ] {{ $('ì§€ì›ì ë¡œë“œ').item.json['ì„±í•¨ '] }}ë‹˜, ë§ì¶¤í˜• ì±„ìš©ê³µê³ ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”!",
        "message": "={{ $json.html }}",
        "options": {}
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.2,
      "position": [
        1808,
        656
      ],
      "id": "83030e7e-856e-42a9-bfdd-fb9a98bf335a",
      "name": "ì±„ìš©ê³µê³  ë°œì†¡1",
      "webhookId": "5246cb07-89a0-429e-9623-59edd6f60b01"
    },
    {
      "parameters": {
        "content": "## ë§ì¶¤ê³µê³  ë°œì†¡ (DRI)\n\në©”ì¼ ì „ì†¡ í›„ ê¸°ë¡ í•„ìš”\nì¶”ì²œë¡œì§ ê²°ê³¼ ë¯¿ê³  ê·¸ëŒ€ë¡œ ì „ì†¡",
        "height": 336,
        "width": 592
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1504,
        496
      ],
      "typeVersion": 1,
      "id": "c539943d-6a7d-4770-9ad4-624a183c8cc0",
      "name": "Sticky Note2"
    },
    {
      "parameters": {
        "content": "## ë°œì†¡ ê²°ê³¼ê¸°ë¡\n\nêµ¬ê¸€ ì‹œíŠ¸ì— ê¸°ë¡",
        "height": 336,
        "width": 368
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2096,
        496
      ],
      "typeVersion": 1,
      "id": "3ae11869-353b-401f-abca-994984917581",
      "name": "Sticky Note3"
    },
    {
      "parameters": {
        "content": "## ì§€ì›ì ë¡œë“œ \n",
        "height": 432,
        "width": 384
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        320,
        448
      ],
      "typeVersion": 1,
      "id": "ade24148-3afc-4c3a-ad06-b45587c08981",
      "name": "Sticky Note6"
    },
    {
      "parameters": {
        "content": "# í™©ì¸ì„±, ê¹€ì£¼ì€\nê¹€ì£¼ì€ - DRI",
        "height": 96,
        "width": 288,
        "color": 3
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        672,
        320
      ],
      "typeVersion": 1,
      "id": "d60aa07d-9462-49d0-99cf-676b094534a4",
      "name": "Sticky Note13"
    },
    {
      "parameters": {
        "content": "# ìµœì§€í˜œ\n+) DB, ì „ì²´ í”Œë¡œìš°",
        "height": 112,
        "width": 288,
        "color": 3
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1600,
        368
      ],
      "typeVersion": 1,
      "id": "a5e33384-39ad-4c42-9465-9958715d4dcf",
      "name": "Sticky Note14"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1YAtgYS0twCj_CQO5jLdZoqN3Qq8wpKGSnzdryR3MKds",
          "mode": "list",
          "cachedResultName": "job-finderëª¨ì§‘ì˜ˆì‹œ",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1YAtgYS0twCj_CQO5jLdZoqN3Qq8wpKGSnzdryR3MKds/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "ì‹œíŠ¸1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1YAtgYS0twCj_CQO5jLdZoqN3Qq8wpKGSnzdryR3MKds/edit#gid=0"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        416,
        576
      ],
      "id": "941ac1e0-0654-4672-9324-b449d3e7591e",
      "name": "ì§€ì›ì ë¡œë“œ",
      "executeOnce": true,
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "aRyaGdzY0CF9gGRi",
          "name": "Google Sheets account Projest"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// ============================================\n// job_matcher.pyë¥¼ ê·¸ëŒ€ë¡œ JavaScriptë¡œ ë³€í™˜\n// ============================================\n\n// === ë°ì´í„° ê°€ì ¸ì˜¤ê¸° ===\nconst users = $('ì§€ì›ì ë¡œë“œ').all();\nconst jobPostings = $('(ì •ì œëœ)ì±„ìš©ê³µê³  ê°€ì ¸ì˜¤ê¸°').all();\n\n// ì±„ìš©ê³µê³  ë°ì´í„°ë¥¼ jsonìœ¼ë¡œ ë³€í™˜\nconst jobData = jobPostings.map(item => item.json);\n\nconsole.log(`ì´ ${jobData.length}ê°œì˜ ì±„ìš©ê³µê³ ë¥¼ ë¡œë“œí–ˆìŠµë‹ˆë‹¤.`);\n\n// === company_name_mapping (íšŒì‚¬ëª… ë§¤í•‘) ===\nconst companyNameMapping = {\n  // í•œí™” ê·¸ë£¹\n  \"í•œí™”ì—ì–´ë¡œìŠ¤í˜ì´ìŠ¤\": [\"í•œí™”ì—ì–´ë¡œìŠ¤í˜ì´ìŠ¤\"],\n  \"í•œí™”ì‹œìŠ¤í…œ/ë°©ì‚°\": [\"í•œí™”ì‹œìŠ¤í…œ/ë°©ì‚°\", \"í•œí™”ì‹œìŠ¤í…œ\", \"í•œí™”ì‹œìŠ¤í…œ/ICT\"],\n  \"í•œí™”ì†”ë£¨ì…˜/ì¼€ë¯¸ì¹¼\": [\"í•œí™”ì†”ë£¨ì…˜/ì¼€ë¯¸ì¹¼\", \"í•œí™”ì†”ë£¨ì…˜\", \"í•œí™”ì¼€ë¯¸ì¹¼\"],\n  \"í•œí™”ì†”ë£¨ì…˜/íì…€\": [\"í•œí™”ì†”ë£¨ì…˜/íì…€\", \"í•œí™”ì†”ë£¨ì…˜\", \"í•œí™”íì…€\"],\n  \"í•œí™”ìƒëª…\": [\"í•œí™”ìƒëª…\"],\n  \"í•œí™”ì†í•´ë³´í—˜\": [\"í•œí™”ì†í•´ë³´í—˜\"],\n  // ë„¤ì´ë²„ ê·¸ë£¹\n  \"NAVER WEBTOON\": [\"NAVER WEBTOON\", \"ë„¤ì´ë²„ì›¹íˆ°\"],\n  // ì¹´ì¹´ì˜¤ ê·¸ë£¹\n  \"ì¹´ì¹´ì˜¤\": [\"ì¹´ì¹´ì˜¤\", \"Kakao\"],\n};\n\n// === company_mappings (ê·¸ë£¹ë³„ íšŒì‚¬ ëª©ë¡) ===\nconst companyMappings = {\n  \"ì‚¼ì„±\": {\n    key: \"ì‚¼ì„± ê·¸ë£¹ì—ì„œ ê´€ì‹¬ ìˆëŠ” íšŒì‚¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.\",\n    companies: [\n      \"ì‚¼ì„±ì „ì DXë¶€ë¬¸\", \"ì‚¼ì„±ì „ì DSë¶€ë¬¸\", \"ì‚¼ì„±SDI\", \"ì‚¼ì„±ì „ê¸°\", \"ì‚¼ì„±SDS\",\n      \"ì‚¼ì„±ë°”ì´ì˜¤ë¡œì§ìŠ¤\", \"ì‚¼ì„±ìƒëª…\", \"ì‚¼ì„±í™”ì¬\", \"ì‚¼ì„±ì¤‘ê³µì—…\", \"ì‚¼ì„±E&A\",\n      \"ì‚¼ì„±ë¬¼ì‚° ê±´ì„¤ë¶€ë¬¸\", \"ì‚¼ì„±ë¬¼ì‚° ìƒì‚¬ë¶€ë¬¸\", \"ì‚¼ì„±ë¬¼ì‚° ë¦¬ì¡°íŠ¸ë¶€ë¬¸\",\n      \"ì‚¼ì„±ë¬¼ì‚° íŒ¨ì…˜ë¶€ë¬¸\", \"í˜¸í…”ì‹ ë¼\", \"ì œì¼ê¸°íš\", \"ì—ìŠ¤ì›\"\n    ]\n  },\n  \"SK\": {\n    key: \"SK ê·¸ë£¹ì—ì„œ ê´€ì‹¬ ìˆëŠ” íšŒì‚¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.\",\n    companies: [\n      \"SK í…”ë ˆì½¤\", \"SK í•˜ì´ë‹‰ìŠ¤\", \"SK ì´ë…¸ë² ì´ì…˜\", \"SK ë°”ì´ì˜¤íŒœ\",\n      \"SK ì‹¤íŠ¸ë¡ \", \"SKC\", \"SK ìŠ¤í€˜ì–´\", \"SK ì£¼ì‹íšŒì‚¬\"\n    ]\n  },\n  \"í˜„ëŒ€ìë™ì°¨\": {\n    key: \"í˜„ëŒ€ìë™ì°¨ ê·¸ë£¹ì—ì„œ ê´€ì‹¬ ìˆëŠ” íšŒì‚¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.\",\n    companies: [\"ê¸°ì•„\", \"í˜„ëŒ€ëª¨ë¹„ìŠ¤\"]\n  },\n  \"LG\": {\n    key: \"LG ê·¸ë£¹ì—ì„œ ê´€ì‹¬ ìˆëŠ” íšŒì‚¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.\",\n    companies: [\n      \"LGì´ë…¸í…\", \"LGí™”í•™\", \"LGìƒí™œê±´ê°•\", \"LGì—ë„ˆì§€ì†”ë£¨ì…˜\",\n      \"LGìœ í”ŒëŸ¬ìŠ¤\", \"LG AIì—°êµ¬ì›\", \"LG CNS\"\n    ]\n  },\n  \"ë¡¯ë°\": {\n    key: \"ë¡¯ë° ê·¸ë£¹ì—ì„œ ê´€ì‹¬ ìˆëŠ” íšŒì‚¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.\",\n    companies: [\n      \"ë¡¯ë°ì¹ ì„±ìŒë£Œ\", \"ë¡¯ë°ë°±í™”ì \", \"ë¡¯ë°ë§ˆíŠ¸ â€¢ ë¡¯ë°ìŠˆí¼\", \"ë¡¯ë°í•˜ì´ë§ˆíŠ¸\",\n      \"ë¡¯ë°í™ˆì‡¼í•‘\", \"ë¡¯ë°ë©´ì„¸ì \", \"ë¡¯ë°í˜¸í…”\", \"ë¡¯ë°ì›”ë“œ\", \"ë¡¯ë°ê¸€ë¡œë²Œë¡œì§€ìŠ¤\",\n      \"ëŒ€í¥ê¸°íš\", \"ë¡¯ë°ë¬¼ì‚°\", \"ë¡¯ë°ì´ë…¸ë² ì´íŠ¸\", \"ë¡¯ë°ë Œíƒˆ\", \"ë¡¯ë°ì¼€ë¯¸ì¹¼\",\n      \"ë¡¯ë°ê±´ì„¤\", \"ë¡¯ë°ì—ë„ˆì§€ë¨¸í‹°ë¦¬ì–¼ì¦ˆ\"\n    ]\n  },\n  \"í•œí™”\": {\n    key: \"í•œí™” ê·¸ë£¹ì—ì„œ ê´€ì‹¬ ìˆëŠ” íšŒì‚¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.\",\n    companies: [\n      \"í•œí™”ì—ì–´ë¡œìŠ¤í˜ì´ìŠ¤\", \"í•œí™”ì‹œìŠ¤í…œ/ë°©ì‚°\", \"í•œí™”ì†”ë£¨ì…˜/ì¼€ë¯¸ì¹¼\",\n      \"í•œí™”ì†”ë£¨ì…˜/íì…€\", \"í•œí™”ìƒëª…\", \"í•œí™”ì†í•´ë³´í—˜\"\n    ]\n  },\n  \"CJ\": {\n    key: \"CJ ê·¸ë£¹ì—ì„œ ê´€ì‹¬ ìˆëŠ” íšŒì‚¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.\",\n    companies: [\n      \"CJì œì¼ì œë‹¹\", \"CJí”„ë ˆì‹œì›¨ì´\", \"CJ ENM\", \"CJ CGV\",\n      \"CJëŒ€í•œí†µìš´\", \"CJì˜¬ë¦¬ë¸Œë„¤íŠ¸ì›ìŠ¤\", \"CJì˜¬ë¦¬ë¸Œì˜\", \"TVING\"\n    ]\n  },\n  \"ì¹´ì¹´ì˜¤\": {\n    key: \"ì¹´ì¹´ì˜¤ ê·¸ë£¹ì—ì„œ ê´€ì‹¬ ìˆëŠ” íšŒì‚¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.\",\n    companies: [\"ì¹´ì¹´ì˜¤\", \"ì¹´ì¹´ì˜¤ë±…í¬\", \"ì¹´ì¹´ì˜¤í˜ì´\", \"ì¹´ì¹´ì˜¤ëª¨ë¹Œë¦¬í‹°\"]\n  },\n  \"ì¿ íŒ¡\": {\n    key: \"ì¿ íŒ¡ ê·¸ë£¹ì—ì„œ ê´€ì‹¬ ìˆëŠ” íšŒì‚¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.\",\n    companies: [\"ì¿ íŒ¡\"]\n  },\n  \"ë„¤ì´ë²„\": {\n    key: \"NAVER ê·¸ë£¹ì—ì„œ ê´€ì‹¬ ìˆëŠ” íšŒì‚¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.\",\n    companies: [\"NAVER\", \"NAVER Cloud\", \"NAVER WEBTOON\", \"NAVER FINANCIAL\", \"NAVERWORKS\"]\n  },\n  \"ì‹ í•œê¸ˆìœµ\": {\n    key: \"ì‹ í•œê¸ˆìœµê·¸ë£¹ì—ì„œ ê´€ì‹¬ ìˆëŠ” íšŒì‚¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.\",\n    companies: [\"ì‹ í•œì€í–‰\", \"ì‹ í•œì¹´ë“œ\", \"ì‹ í•œíˆ¬ìì¦ê¶Œ\", \"ì‹ í•œìƒëª…\"]\n  },\n  \"KBê¸ˆìœµ\": {\n    key: \"KBê¸ˆìœµê·¸ë£¹ì—ì„œ ê´€ì‹¬ ìˆëŠ” íšŒì‚¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.\",\n    companies: [\"KBêµ­ë¯¼ì€í–‰\", \"KBêµ­ë¯¼ì¹´ë“œ\", \"KBì¦ê¶Œ\", \"KBì†í•´ë³´í—˜\"]\n  },\n  \"í•˜ë‚˜ê¸ˆìœµ\": {\n    key: \"í•˜ë‚˜ê¸ˆìœµê·¸ë£¹ì—ì„œ ê´€ì‹¬ ìˆëŠ” íšŒì‚¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.\",\n    companies: [\"í•˜ë‚˜ì€í–‰\", \"í•˜ë‚˜ì¹´ë“œ\", \"í•˜ë‚˜ì¦ê¶Œ\", \"í•˜ë‚˜ì†í•´ë³´í—˜\"]\n  },\n  \"ìš°ë¦¬ê¸ˆìœµ\": {\n    key: \"ìš°ë¦¬ê¸ˆìœµê·¸ë£¹ì—ì„œ ê´€ì‹¬ ìˆëŠ” íšŒì‚¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.\",\n    companies: [\"ìš°ë¦¬ì€í–‰\", \"ìš°ë¦¬ì¹´ë“œ\", \"ìš°ë¦¬ì¦ê¶Œ\"]\n  },\n  \"í† ìŠ¤\": {\n    key: \"í† ìŠ¤ê·¸ë£¹ì—ì„œ ê´€ì‹¬ ìˆëŠ” íšŒì‚¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.\",\n    companies: [\"í† ìŠ¤\", \"í† ìŠ¤ë±…í¬\", \"í† ìŠ¤í˜ì´ë¨¼ì¸ \", \"í† ìŠ¤ì¦ê¶Œ\"]\n  },\n  \"ìš°ì•„í•œí˜•ì œë“¤\": {\n    key: \"ìš°ì•„í•œí˜•ì œë“¤ ê·¸ë£¹ì—ì„œ ê´€ì‹¬ ìˆëŠ” íšŒì‚¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.\",\n    companies: [\"ìš°ì•„í•œí˜•ì œë“¤\"]\n  }\n};\n\n// ============================================\n// í—¬í¼ í•¨ìˆ˜ë“¤ (job_matcher.pyì™€ ë™ì¼)\n// ============================================\n\nfunction _parseEmploymentTypes(employmentStr) {\n  /** ê³ ìš©í˜•íƒœ ë¬¸ìì—´ íŒŒì‹± */\n  if (!employmentStr) return [];\n  return employmentStr.split(\",\").map(emp => emp.trim()).filter(emp => emp);\n}\n\nfunction _simpleMatch(jobField, targetJob) {\n  /** ë‹¨ìˆœ ë¬¸ìì—´ ë§¤ì¹­ */\n  if (!jobField || !targetJob) return false;\n  return targetJob.toLowerCase().replace(/\\s/g, \"\") \n    .includes(jobField.toLowerCase().replace(/\\s/g, \"\")) ||\n    jobField.toLowerCase().replace(/\\s/g, \"\")\n    .includes(targetJob.toLowerCase().replace(/\\s/g, \"\"));\n}\n\nfunction _isJobMatch(job, targetJobs) {\n  /** ì§ë¬´ ë§¤ì¹­ ì—¬ë¶€ íŒë‹¨ */\n  if (!targetJobs || targetJobs.length === 0) return true;\n  \n  const processedPosition = job.processed_position_name || \"\";\n  for (const targetJob of targetJobs) {\n    if (!targetJob) continue;\n    if (processedPosition && processedPosition !== \"ë¯¸ë¶„ë¥˜\") {\n      if (_simpleMatch(processedPosition, targetJob)) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nfunction _isEducationMatch(userEduList, jobEducation) {\n  for (const userEdu of userEduList) {\n    // ì–‘ë°©í–¥ í¬í•¨ ì²´í¬\n    if (jobEducation.includes(userEdu) || userEdu.includes(jobEducation)) {\n      return true;\n    }\n    \n    // í•™ì‚¬ 4ë…„ íŠ¹ìˆ˜ ì¼€ì´ìŠ¤\n    if ((userEdu.includes(\"í•™ì‚¬\") && userEdu.includes(\"4ë…„\")) &&\n        (jobEducation.includes(\"ëŒ€í•™\") && jobEducation.includes(\"4ë…„\"))) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction isPreferredCompany(targetCompanies, jobCompany) {\n  /** í¬ë§ê¸°ì—… ì—¬ë¶€ í™•ì¸ */\n  if (!targetCompanies || targetCompanies.length === 0 || !jobCompany) {\n    return false;\n  }\n  \n  // 1. ì§ì ‘ ë§¤ì¹­\n  if (targetCompanies.includes(jobCompany)) return true;\n  \n  // 2. ë§¤í•‘ í…Œì´ë¸”ì„ í†µí•œ ë§¤ì¹­\n  for (const targetCompany of targetCompanies) {\n    let mappedNames = companyNameMapping[targetCompany] || [];\n    if (typeof mappedNames === \"string\") mappedNames = [mappedNames];\n    \n    for (const mappedName of mappedNames) {\n      if (mappedName === jobCompany) return true;\n      // ë¶€ë¶„ ë§¤ì¹­\n      if (mappedName.toLowerCase().includes(jobCompany.toLowerCase()) ||\n          jobCompany.toLowerCase().includes(mappedName.toLowerCase())) {\n        return true;\n      }\n    }\n  }\n  \n  // 3. ê¸°ë³¸ ë¶€ë¶„ ë¬¸ìì—´ ë§¤ì¹­\n  const jobCompanyClean = jobCompany.toLowerCase().replace(/[\\s\\/]/g, \"\");\n  for (const targetCompany of targetCompanies) {\n    const targetClean = targetCompany.toLowerCase().replace(/[\\s\\/]/g, \"\");\n    if (targetClean.includes(jobCompanyClean) || jobCompanyClean.includes(targetClean)) {\n      return true;\n    }\n    \n    if (jobCompany.includes(\"/\")) {\n      const companyBase = jobCompany.split(\"/\")[0].toLowerCase().replace(/\\s/g, \"\");\n      if (targetClean.includes(companyBase) || companyBase.includes(targetClean)) {\n        return true;\n      }\n    }\n  }\n  \n  return false;\n}\n\nfunction countNulls(jobDict) {\n  /** ì±„ìš©ê³µê³ ì˜ NULL ê°œìˆ˜ ê³„ì‚° */\n  const checkFields = [\"min_education_level\", \"min_experience_level\", \"employment_type\"];\n  return checkFields.filter(field => \n    !jobDict[field] || jobDict[field] === \"í™•ì¸ë¶ˆê°€\"\n  ).length;\n}\n\nfunction getJobRolePriority(targetJobs, job) {\n  /** ì§ë¬´ ìš°ì„ ìˆœìœ„ ê³„ì‚° (ë‚®ì„ìˆ˜ë¡ ìš°ì„ ìˆœìœ„ ë†’ìŒ) */\n  for (let i = 0; i < targetJobs.length; i++) {\n    if (targetJobs[i] && _isJobMatch(job, [targetJobs[i]])) {\n      return i + 1;\n    }\n  }\n  return 5;\n}\n\nfunction getPriority(userValues, jobValue) {\n  /** ê³µí†µ ìš°ì„ ìˆœìœ„ ê³„ì‚° í•¨ìˆ˜ */\n  if (!jobValue || jobValue === \"í™•ì¸ë¶ˆê°€\") return 2;\n  if (!userValues || userValues.length === 0) return 3;\n  return userValues.includes(jobValue) ? 1 : 3;\n}\n\nfunction _extractTargetCompanies(userData) {\n  /** ì‚¬ìš©ìê°€ ê´€ì‹¬ìˆëŠ” íšŒì‚¬ë“¤ ì¶”ì¶œ */\n  const companies = [];\n  \n  for (const [groupName, groupInfo] of Object.entries(companyMappings)) {\n    const groupSelection = userData[groupInfo.key] || \"\";\n    if (groupSelection && groupSelection.trim()) {\n      if (groupSelection.includes(\"ì „ì²´\")) {\n        companies.push(...groupInfo.companies);\n        console.log(`'${groupName} ì „ì²´' ì„ íƒë¨ â†’ ${groupInfo.companies.length}ê°œ íšŒì‚¬ ì¶”ê°€`);\n      } else {\n        const selected = groupSelection.split(\",\").map(c => c.trim()).filter(c => c);\n        companies.push(...selected);\n        console.log(`'${groupName}' ê°œë³„ ì„ íƒ â†’ ${selected}`);\n      }\n    }\n  }\n  \n  return [...new Set(companies)]; // ì¤‘ë³µ ì œê±°\n}\n\n// ============================================\n// í•„í„°ë§ í•¨ìˆ˜ë“¤ (job_matcher.pyì™€ ë™ì¼)\n// ============================================\n\nfunction applyBasicFilters(userData, jobPostings) {\n  /** 1ë‹¨ê³„ í•„í„°ë§: ì‹ ì… ê³µê³ ë§Œ ì¶”ì¶œ */\n  const filteredJobs = [];\n  const careerPreference = userData[\"ì°¾ê³  ê³„ì‹  ê³µê³ ì˜ ê²½ë ¥ ì¡°ê±´ì„ ì„ íƒí•´ì£¼ì„¸ìš”.\"] || \"\";\n  \n  for (const job of jobPostings) {\n    const experienceLevel = job.min_experience_level || \"\";\n    if (careerPreference.includes(\"ì‹ ì…\")) {\n      if ([\"ì‹ ì…\", \"í™•ì¸ë¶ˆê°€\", \"\"].includes(experienceLevel)) {\n        filteredJobs.push(job);\n      }\n    } else {\n      filteredJobs.push(job);\n    }\n  }\n  return filteredJobs;\n}\n\nfunction filterByEmploymentType(userData, jobPostings) {\n  /** 2ë‹¨ê³„ í•„í„°ë§: ê³ ìš©í˜•íƒœ */\n  const filteredJobs = [];\n  const targetEmploymentTypes = _parseEmploymentTypes(\n    userData[\"í¬ë§ ê³ ìš© í˜•íƒœ (ë³µìˆ˜ì„ íƒ)\"] || \"\"\n  );\n  \n  for (const job of jobPostings) {\n    const employmentType = job.employment_type || \"\";\n    if (!employmentType ||\n        employmentType === \"í™•ì¸ë¶ˆê°€\" ||\n        targetEmploymentTypes.length === 0 ||\n        targetEmploymentTypes.includes(employmentType)) {\n      filteredJobs.push(job);\n    }\n  }\n  return filteredJobs;\n}\n\nfunction filterByJobRole(userData, jobPostings) {\n  /** 3ë‹¨ê³„ í•„í„°ë§: ì§ë¬´ */\n  const filteredJobs = [];\n  let targetJobs = [\n    userData[\"í¬ë§ ì§ë¬´ 1ìˆœìœ„ (í•„ìˆ˜ì‘ë‹µ)\"] || \"\",\n    userData[\"í¬ë§ ì§ë¬´ 2ìˆœìœ„ \"] || \"\",  // ê³µë°± í¬í•¨!\n    userData[\"í¬ë§ ì§ë¬´ 3ìˆœìœ„ \"] || \"\",  // ê³µë°± í¬í•¨!\n  ];\n  targetJobs = targetJobs.map(job => job.trim()).filter(job => job);\n  \n  for (const job of jobPostings) {\n    if (targetJobs.length === 0 || _isJobMatch(job, targetJobs)) {\n      filteredJobs.push(job);\n    }\n  }\n  return filteredJobs;\n}\n\nfunction filterByEducation(userData, jobPostings) {\n  /** 4ë‹¨ê³„ í•„í„°ë§: í•™ë ¥ */\n  const filteredJobs = [];\n  const userEducation = userData[\"ì°¾ê³  ê³„ì‹  ê³µê³ ì˜ í•™ë ¥ ì¡°ê±´ì„ ì„ íƒí•´ì£¼ì„¸ìš”. (ì¡¸ì—…ì˜ˆì •ìë„ ì„ íƒ ê°€ëŠ¥, ë³µìˆ˜ì„ íƒ)\"] || \"\";\n  const userEduList = userEducation.split(\",\").map(edu => edu.trim()).filter(edu => edu);\n  \n  for (const job of jobPostings) {\n    const education = job.min_education_level || \"\";\n    if (!education ||\n        education === \"í•™ë ¥_í™•ì¸ë¶ˆê°€\" ||\n        userEduList.length === 0 ||\n        _isEducationMatch(userEduList, education)) {\n      filteredJobs.push(job);\n    }\n  }\n  return filteredJobs;\n}\n\n// ============================================\n// ë©”ì¸ ë§¤ì¹­ í•¨ìˆ˜ (job_matcher.pyì˜ match_jobs_for_user)\n// ============================================\n\nfunction matchJobsForUser(userData, jobData, topN = 100) {\n  /** ì‚¬ìš©ìì—ê²Œ ë§ëŠ” ì±„ìš©ê³µê³  ë§¤ì¹­ */\n  console.log(\"=== í•„í„°ë§ ì‹œì‘ ===\");\n  \n  // ì‚¬ìš©ì ì„ í˜¸ë„ ì¶”ì¶œ\n  const targetCompanies = _extractTargetCompanies(userData);\n  let targetJobs = [\n    userData[\"í¬ë§ ì§ë¬´ 1ìˆœìœ„ (í•„ìˆ˜ì‘ë‹µ)\"] || \"\",\n    userData[\"í¬ë§ ì§ë¬´ 2ìˆœìœ„ \"] || \"\",\n    userData[\"í¬ë§ ì§ë¬´ 3ìˆœìœ„ \"] || \"\",\n  ];\n  targetJobs = targetJobs.map(job => job.trim()).filter(job => job);\n  const targetEmploymentTypes = _parseEmploymentTypes(\n    userData[\"í¬ë§ ê³ ìš© í˜•íƒœ (ë³µìˆ˜ì„ íƒ)\"] || \"\"\n  );\n  \n  console.log(`ì‚¬ìš©ì í¬ë§ ì§ë¬´: ${targetJobs}`);\n  console.log(`ì‚¬ìš©ì í¬ë§ íšŒì‚¬: ${targetCompanies}`);\n  console.log(`ì‚¬ìš©ì í¬ë§ ê³ ìš©í˜•íƒœ: ${targetEmploymentTypes}`);\n  \n  // ë‹¨ê³„ë³„ í•„í„°ë§\n  const step1Jobs = applyBasicFilters(userData, jobData);\n  console.log(`1ë‹¨ê³„(ê²½ë ¥) í›„: ${step1Jobs.length}ê°œ ê³µê³ `);\n  \n  const step2Jobs = filterByEmploymentType(userData, step1Jobs);\n  console.log(`2ë‹¨ê³„(ê³ ìš©í˜•íƒœ) í›„: ${step2Jobs.length}ê°œ ê³µê³ `);\n  \n  const step3Jobs = filterByJobRole(userData, step2Jobs);\n  console.log(`3ë‹¨ê³„(ì§ë¬´) í›„: ${step3Jobs.length}ê°œ ê³µê³ `);\n  \n  const finalJobs = filterByEducation(userData, step3Jobs);\n  console.log(`4ë‹¨ê³„(í•™ë ¥) í›„: ${finalJobs.length}ê°œ ê³µê³ `);\n  \n  if (finalJobs.length === 0) {\n    console.log(\"í•„í„°ë§ í›„ ì¶”ì²œí•  ê³µê³ ê°€ ì—†ìŠµë‹ˆë‹¤\");\n    return [];\n  }\n  \n  // í¬ë§ê¸°ì—… ë¶„ë¦¬\n  const preferredJobs = [];\n  const otherJobs = [];\n  \n  for (const job of finalJobs) {\n    const companyName = job.company_name || job.company_name_from_file || \"\";\n    const isPreferred = isPreferredCompany(targetCompanies, companyName);\n    \n    if (isPreferred) {\n      preferredJobs.push(job);\n    } else {\n      otherJobs.push(job);\n    }\n  }\n  \n  console.log(`í¬ë§ê¸°ì—… ê³µê³ : ${preferredJobs.length}ê°œ, ê¸°íƒ€ ê³µê³ : ${otherJobs.length}ê°œ`);\n  \n  // ì •ë ¬ìš© í‚¤ í•¨ìˆ˜\n  const userEducation = userData[\"ì°¾ê³  ê³„ì‹  ê³µê³ ì˜ í•™ë ¥ ì¡°ê±´ì„ ì„ íƒí•´ì£¼ì„¸ìš”. (ì¡¸ì—…ì˜ˆì •ìë„ ì„ íƒ ê°€ëŠ¥, ë³µìˆ˜ì„ íƒ)\"] || \"\";\n  const userEduList = userEducation.split(\",\").map(edu => edu.trim()).filter(edu => edu);\n  \n  function sortKey(job) {\n    return [\n      countNulls(job),\n      getJobRolePriority(targetJobs, job),\n      getPriority(userEduList, job.min_education_level || \"\"),\n      getPriority(targetEmploymentTypes, job.employment_type || \"\"),\n      job.company_name || \"\"\n    ];\n  }\n  \n  // íŠœí”Œ ë¹„êµ ì •ë ¬ í•¨ìˆ˜\n  function compareSortKeys(a, b) {\n    const keyA = sortKey(a);\n    const keyB = sortKey(b);\n    for (let i = 0; i < keyA.length; i++) {\n      if (keyA[i] < keyB[i]) return -1;\n      if (keyA[i] > keyB[i]) return 1;\n    }\n    return 0;\n  }\n  \n  preferredJobs.sort(compareSortKeys);\n  otherJobs.sort(compareSortKeys);\n  const topJobs = [...preferredJobs, ...otherJobs].slice(0, topN);\n  \n  console.log(`ì¶”ì²œ ì™„ë£Œ: ${topJobs.length}ê°œ ê³µê³  ì„ ì •`);\n  \n  return topJobs.map(job => ({\n    job: job,\n    is_preferred_company: isPreferredCompany(\n      targetCompanies,\n      job.company_name || job.company_name_from_file || \"\"\n    ),\n    score: 100\n  }));\n}\n\n// ============================================\n// ì‹¤í–‰\n// ============================================\n\nconst results = [];\n\nfor (const userItem of users) {\n  const userData = userItem.json;\n  \n  // ì‚¬ìš©ì ì •ë³´ ì¶”ì¶œ (í•„ë“œëª… ëì— ê³µë°± ì£¼ì˜!)\n  const userName = userData[\"ì„±í•¨ \"] || userData[\"ì„±í•¨\"] || \"\";\n  const userEmail = userData[\"ì´ë©”ì¼ ì£¼ì†Œ\"] || userData[\"ì´ë©”ì¼ì£¼ì†Œ\"] || \"\";\n  \n  const matchedJobs = matchJobsForUser(userData, jobData);\n  \n  results.push({\n    json: {\n      user_name: userName,\n      user_email: userEmail,\n      matched_jobs: matchedJobs,\n      matched_count: matchedJobs.length,\n      preferred_count: matchedJobs.filter(j => j.is_preferred_company).length,\n      top_5_jobs: matchedJobs.slice(0, 5).map(m => ({\n        company: m.job.company_name || m.job.company_name_from_file || \"\",\n        position: m.job.position_name || \"\",\n        url: m.job.apply_url || \"\",\n        is_preferred: m.is_preferred_company ? \"â­\" : \"\"\n      }))\n    }\n  });\n}\n\nreturn results;"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        800,
        576
      ],
      "id": "585ca13b-d2c0-49f4-a9f7-4002c8d99d07",
      "name": "ë§¤ì¹­ í•„í„°ë§",
      "alwaysOutputData": true,
      "executeOnce": true,
      "retryOnFail": true
    },
    {
      "parameters": {
        "jsCode": "const matchedData = $input.all();\n\n// 1. ë™ì  ë‚ ì§œ ë° ì£¼ì°¨ ê³„ì‚° ë¡œì§\nconst now = new Date();\nconst currentMonth = now.getMonth() + 1; \nconst currentDay = now.getDate();\nconst currentWeek = Math.ceil(currentDay / 7); \nconst weekTitle = `${currentMonth}ì›” ${currentWeek}ì£¼ì°¨`;\nconst todayStr = `${now.getFullYear()}.${String(currentMonth).padStart(2, '0')}.${String(currentDay).padStart(2, '0')}`;\n\nfunction generateJobCard(jobMatch) {\n  const job = jobMatch.job || jobMatch;\n  const isPreferred = jobMatch.is_preferred_company;\n  const starMark = isPreferred ? \"â­ \" : \"\";\n  \n  // ğŸ¯ ë°ì´í„° ì¶”ì¶œ (image_c8eae0.jpg ì»¬ëŸ¼ ê¸°ì¤€ ë§¤ì¹­)\n  const companyName = job.company_name || \"ê¸°ì—…ëª… ë¯¸ìƒ\"; \n  const recruitmentTitle = job.position_name || \"ê³µê³  ì°¸ì¡°\";     // ì±„ìš©ê³µê³ ëª… (Bì»¬ëŸ¼)\n  const jobTitle = job.processed_position_name || \"ì§ë¬´ ë¯¸ë¶„ë¥˜\"; // ì§ë¬´ëª… (Cì»¬ëŸ¼)\n  \n  const employmentType = job.employment_type || \"í™•ì¸ë¶ˆê°€\";\n  const deadline = job.deadline || job.application_deadline_date || \"ìƒì‹œì±„ìš©\";\n  const logoUrl = job.logo_url || job.logo || \"\";\n  const rawApplyUrl = job.apply_url || job.application_link || \"#\";\n\n  // ğŸ¯ ë¦¬ë‹¤ì´ë ‰íŠ¸ URL ì¡°ë¦½ (3ê°€ì§€ íŒŒë¼ë¯¸í„° í¬í•¨)\n  const myAppUrl = \"http://localhost:3000\"; \n  const encodedDest = encodeURIComponent(rawApplyUrl);\n  const encodedCompany = encodeURIComponent(companyName);\n  const encodedJob = encodeURIComponent(jobTitle);\n  const encodedRecruitment = encodeURIComponent(recruitmentTitle);\n\n  // index.ejsì—ì„œ ë°›ì„ ë³€ìˆ˜ëª…ê³¼ 100% ì¼ì¹˜ì‹œì¼°ìŠµë‹ˆë‹¤.\n  // --- ğŸ¯ [n8n ìˆ˜ì •] ì¶œì²˜(source) íŒŒë¼ë¯¸í„° ì¶”ê°€ ---\nconst source = \"email\"; // ì´ë©”ì¼ ìœ ì…ì„ì„ ëª…ì‹œ\nconst applyUrl = `${myAppUrl}/?url=${encodedDest}&company=${encodedCompany}&job_title=${encodedJob}&recruitment_title=${encodedRecruitment}&source=${source}`;\n\n  return `\n<table width=\"100%\" style=\"border:1px solid #e1e4e8; background:#ffffff; margin-bottom:20px; border-radius:12px; border-collapse:separate;\" cellpadding=\"0\" cellspacing=\"0\">\n  <tr><td style=\"padding:20px;\">\n    <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">\n      <tr>\n        <td width=\"80\" valign=\"top\" style=\"padding-right:15px;\">\n          ${logoUrl ? `<img src=\"${logoUrl}\" width=\"80\" style=\"border-radius:8px; border:1px solid #eee;\">` : \n          `<div style=\"width:80px; height:80px; background:#f0f2f5; border-radius:8px; text-align:center; line-height:80px; font-size:12px; color:#999; border:1px solid #eee;\">LOGO</div>`}\n        </td>\n        <td valign=\"top\">\n          <div style=\"font-weight:bold; font-size:16px; color:#333; margin-bottom:8px;\">${starMark}${companyName}</div>\n          <table width=\"100%\" style=\"font-size:14px; line-height:1.6; color:#555;\">\n            <tr><td width=\"70\" style=\"color:#888;\"><b>ëª¨ì§‘ë¶€ë¬¸</b></td><td>${recruitmentTitle}</td></tr>\n            <tr><td style=\"color:#888;\"><b>ì§ë¬´ëª…</b></td><td>${jobTitle}</td></tr>\n            <tr><td style=\"color:#888;\"><b>ê³ ìš©í˜•íƒœ</b></td><td><span style=\"background:#e6f7ed; color:#2c8a3c; padding:2px 6px; border-radius:4px; font-size:12px; font-weight:bold;\">${employmentType}</span></td></tr>\n            <tr><td style=\"color:#888;\"><b>ì ‘ìˆ˜ë§ˆê°</b></td><td>${deadline} <span style=\"color:#d93025; font-weight:bold;\">(D-Day)</span></td></tr>\n          </table>\n        </td>\n      </tr>\n    </table>\n    <a href=\"${applyUrl}\" target=\"_blank\" style=\"display:block; background:#f8f9fa; border:1px solid #dee2e6; padding:12px; text-align:center; text-decoration:none; color:#495057; border-radius:8px; margin-top:15px; font-weight:bold; font-size:14px;\">ë°”ë¡œê°€ê¸°</a>\n  </td></tr>\n</table>`;\n}\n\nconst results = [];\n\nfor (const item of matchedData) {\n  const userData = item.json;\n  const userName = userData.user_name || \"êµ¬ë…ì\";\n  const matchedJobs = userData.filtered_jobs || userData.matched_jobs || [];\n  const jobCardsHtml = matchedJobs.slice(0, 10).map(j => generateJobCard(j)).join(\"\\n\");\n  \n  const fullHtml = `\n<!DOCTYPE html>\n<html>\n<body style=\"margin:0; padding:0; background-color:#f4f7f6; font-family:'Apple SD Gothic Neo', sans-serif;\">\n  <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" style=\"background-color:#f4f7f6; padding:20px 0;\">\n    <tr><td>\n      <table width=\"600\" style=\"background:#ffffff; margin:0 auto; border-radius:16px; overflow:hidden;\" cellpadding=\"0\" cellspacing=\"0\">\n        <tr><td style=\"background:#2c8a3c; padding:30px 25px; color:#ffffff;\">\n          <div style=\"font-size:24px; font-weight:bold; margin-bottom:8px;\">ğŸ¯ ${weekTitle} ì±„ìš©ê³µê³  ë„ì°©!</div>\n          <div style=\"font-size:15px; opacity:0.9;\">'ë°”ë¡œê°€ê¸°'ë¥¼ ëˆ„ë¥´ë©´ ìì„¸í•œ ì •ë³´ë¥¼ ë³¼ ìˆ˜ ìˆì–´ìš”!</div>\n        </td></tr>\n        \n        <tr><td style=\"background:#fff9db; padding:12px 25px; border-bottom:1px solid #fff3bf;\">\n          <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">\n            <tr>\n              <td align=\"left\" style=\"font-size:13px; color:#856404;\">\n                âš ï¸ <b>ì •í™•í•œ ì •ë³´</b>ëŠ” íšŒì‚¬ í™ˆí˜ì´ì§€ë¥¼ í†µí•´ í™•ì¸í•´ ì£¼ì„¸ìš”.\n              </td>\n              <td align=\"right\" style=\"font-size:12px; color:#adb5bd; font-family:Arial, sans-serif;\">\n                ${todayStr}\n              </td>\n            </tr>\n          </table>\n        </td></tr>\n\n        <tr><td style=\"padding:30px 25px 10px 25px;\">\n          <div style=\"font-size:17px; color:#333;\"><b>${userName}ë‹˜</b>ì—ê²Œ ê°€ì¥ ì í•©í•œ ì±„ìš©ê³µê³ </div>\n        </td></tr>\n\n        <tr><td style=\"padding:10px 25px;\">${jobCardsHtml}</td></tr>\n\n        <tr><td style=\"padding:20px 25px;\">\n          <table width=\"100%\" style=\"background:#effaf3; border:1px solid #d3f9e8; border-radius:12px; text-align:center; padding:25px;\">\n            <tr><td>\n              <div style=\"font-size:30px; margin-bottom:15px;\">ğŸ¤”</div>\n              <div style=\"font-size:18px; font-weight:bold; color:#333; margin-bottom:10px;\">ë°›ì•„ë³¸ ì±„ìš©ê³µê³  ì–´ë– ì…¨ë‚˜ìš”?</div>\n              <div style=\"font-size:14px; color:#666; line-height:1.6; margin-bottom:20px;\">\n                ì—¬ëŸ¬ë¶„ì˜ ì†Œì¤‘í•œ ì˜ê²¬ì„ ë“¤ë ¤ì£¼ì„¸ìš”!<br>Hoper ë¶„ë“¤ì˜ í”¼ë“œë°±ì„ ë°˜ì˜í•˜ì—¬ ë” ë‚˜ì€ ì„œë¹„ìŠ¤ë¡œ ì°¾ì•„ëµ™ê² ìŠµë‹ˆë‹¤.\n              </div>\n              <a href=\"https://forms.gle/your-form-link\" style=\"display:inline-block; background:#333; color:#fff; padding:12px 25px; text-decoration:none; border-radius:8px; font-weight:bold; font-size:14px;\">ğŸ’Œ í”¼ë“œë°± í•˜ëŸ¬ê°€ê¸°</a>\n            </td></tr>\n          </table>\n        </td></tr>\n\n        <tr><td style=\"background:#2c8a3c; padding:40px 25px; text-align:center; color:#ffffff;\">\n          <div style=\"display:inline-block; border:2px solid #ffffff; border-radius:30px; padding:8px 25px; font-size:20px; font-weight:bold; margin-bottom:20px;\">JOB FINDER</div>\n          <div style=\"font-size:14px; margin-bottom:15px; opacity:0.9;\">ë‹¹ì‹ ì˜ ì„±ê³µì ì¸ ì»¤ë¦¬ì–´ë¥¼ ì‘ì›í•©ë‹ˆë‹¤ ğŸ¸</div>\n          <div style=\"font-size:11px; opacity:0.5;\">Â© 2026 JOB FINDER. All rights reserved.</div>\n        </td></tr>\n      </table>\n    </td></tr>\n  </table>\n</body>\n</html>`;\n\n  results.push({\n    json: {\n      to: userData.user_email,\n      subject: `[ê³µê³ ì¶”ì²œ] ${userName}ë‹˜, ë§ì¶¤í˜• ì±„ìš©ê³µê³ ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”!`,\n      html: fullHtml\n    }\n  });\n}\n\nreturn results;"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1648,
        656
      ],
      "id": "26cb4e25-f170-439e-8d9e-35acd2ccdd70",
      "name": "ì´ë©”ì¼ í…œí”Œë¦¿ ìƒì„±"
    },
    {
      "parameters": {
        "jsCode": "// [ë°ì´í„° í‰íƒ„í™”] row_number í¬í•¨ ë²„ì „\nconst allRows = [];\nconst sendResults = $input.all(); // \"ì§€ì›ìì‹œíŠ¸ ì—…ë°ì´íŠ¸\" ë…¸ë“œ ê²°ê³¼\n\nfor (let i = 0; i < sendResults.length; i++) {\n  const result = sendResults[i].json;\n  const matchedData = $('ë§¤ì¹­ í•„í„°ë§').all()[i].json;\n  const jobs = matchedData.matched_jobs || [];\n  \n  // ì§€ì›ìì‹œíŠ¸ì˜ row_numberë¥¼ ê°€ì ¸ì˜´\n  const rowNum = result.row_number || $('ì§€ì›ì ë¡œë“œ').all()[i].json.row_number;\n\n  for (const jobMatch of jobs) {\n    const actualJob = jobMatch.job || jobMatch; \n\n    allRows.push({\n      json: {\n        \"row_number\": rowNum, // ğŸ¯ ì´ ë¶€ë¶„ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!\n        \"ë°œì†¡ë‚ ì§œ\": result.sent_at || $now.setZone('Asia/Seoul').toFormat('yyyy-MM-dd HH:mm'),\n        \"ì§€ì›ìì„±í•¨\": matchedData.user_name || \"ì´ë¦„ ë¯¸ìƒ\",\n        \"ì´ë©”ì¼ì£¼ì†Œ\": matchedData.user_email || \"ì´ë©”ì¼ ë¯¸ìƒ\",\n        \"ì¶”ì²œê¸°ì—…\": actualJob.company_name,\n        \"ì¶”ì²œê³µê³ \": actualJob.position_name || actualJob.job_title,\n        \"ê³µê³ ê°œìˆ˜\": jobs.length\n      }\n    });\n  }\n}\nreturn allRows;"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        976,
        576
      ],
      "id": "0e92ee1c-223c-4d59-acf4-82797940ce61",
      "name": "ë°œì†¡ê¸°ë¡ ë°ì´í„° í‰íƒ„í™”"
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": ""
        },
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": ""
        }
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        1168,
        576
      ],
      "id": "69eb030e-87b1-4782-94b8-7810bf915e0b",
      "name": "ë°œì†¡ê¸°ë¡ sheet ì ì¬",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "aRyaGdzY0CF9gGRi",
          "name": "Google Sheets account Projest"
        }
      }
    },
    {
      "parameters": {
        "content": "## ì±„ìš©ê³µê³  ë¡œë“œ\n\nì „ì²˜ë¦¬ëœ ì±„ìš©ê³µê³  google sheetì—ì„œ ë¡œë“œ\n",
        "height": 432,
        "width": 624
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -592,
        432
      ],
      "typeVersion": 1,
      "id": "1554358e-f118-460b-aea7-995f19ebb2aa",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "pollTimes": {
          "item": [
            {
              "mode": "everyMinute"
            }
          ]
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": ""
        },
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": ""
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTrigger",
      "typeVersion": 1,
      "position": [
        -400,
        608
      ],
      "id": "cf789a30-84a6-4b91-ac7b-6190cd065af5",
      "name": "ì±„ìš©ê³µê³  ë¡œë“œ",
      "credentials": {
        "googleSheetsTriggerOAuth2Api": {
          "id": "2f4BQz6vFzek7asK",
          "name": "Google Sheets Trigger account"
        }
      }
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": ""
        },
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": ""
        }
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        2224,
        656
      ],
      "id": "55890fc9-9123-4ba0-8194-04f0aab492f5",
      "name": "ë°œì†¡ê¸°ë¡ sheet ìˆ˜ì •",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "aRyaGdzY0CF9gGRi",
          "name": "Google Sheets account Projest"
        }
      }
    },
    {
      "parameters": {
        "content": "## ìµœì¢… ê²°ê³¼ ì¶œë ¥\n\nGAë¥¼ í†µí•´ì„œ",
        "height": 336,
        "width": 368
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2624,
        496
      ],
      "typeVersion": 1,
      "id": "9d884472-320c-4ab3-917b-8382499a269c",
      "name": "Sticky Note4"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "d440d4c6-5c62-422c-b956-0869663742d6",
              "leftValue": "",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -192,
        608
      ],
      "id": "166a6aaa-27d1-42f7-9036-e41be493b35f",
      "name": "ìˆ˜ì‹œ ì±„ìš©ê³µê³ "
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": ""
        },
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": ""
        }
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        48,
        432
      ],
      "id": "608fc559-257c-4f43-8666-3414c9e8eee6",
      "name": "ìˆ˜ì‹œ ì±„ìš©ê³µê³  ì‹œíŠ¸ì— ì ì¬",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "aRyaGdzY0CF9gGRi",
          "name": "Google Sheets account Projest"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "ì§€ì›ì ë¡œë“œ": {
      "main": [
        [
          {
            "node": "ë§¤ì¹­ í•„í„°ë§",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ë§¤ì¹­ í•„í„°ë§": {
      "main": [
        [
          {
            "node": "ë°œì†¡ê¸°ë¡ ë°ì´í„° í‰íƒ„í™”",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ì´ë©”ì¼ í…œí”Œë¦¿ ìƒì„±": {
      "main": [
        [
          {
            "node": "ì±„ìš©ê³µê³  ë°œì†¡1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ì±„ìš©ê³µê³  ë°œì†¡1": {
      "main": [
        [
          {
            "node": "ë°œì†¡ê¸°ë¡ sheet ìˆ˜ì •",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ë°œì†¡ê¸°ë¡ ë°ì´í„° í‰íƒ„í™”": {
      "main": [
        [
          {
            "node": "ë°œì†¡ê¸°ë¡ sheet ì ì¬",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ì±„ìš©ê³µê³  ë¡œë“œ": {
      "main": [
        [
          {
            "node": "ìˆ˜ì‹œ ì±„ìš©ê³µê³ ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ìˆ˜ì‹œ ì±„ìš©ê³µê³ ": {
      "main": [
        [
          {
            "node": "ìˆ˜ì‹œ ì±„ìš©ê³µê³  ì‹œíŠ¸ì— ì ì¬",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "ì§€ì›ì ë¡œë“œ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1",
    "binaryMode": "separate",
    "availableInMCP": false
  },
  "versionId": "e489ed14-a360-4392-a2c5-4eadf4e543ce",
  "meta": {
    "instanceId": "821b790ee90d0166375ac64457e2b5e4d0b401233ff058856ffbade878fa6ef0"
  },
  "id": "sB0IFCPagPjmvMk1",
  "tags": []
}